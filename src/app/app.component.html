<div class="container">
  <h1>Gestión de Préstamos</h1>

  <div *ngIf="!isLoggedIn">
    <h2>Iniciar Sesión</h2>
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <div class="form-group">
        <label for="username">Usuario:</label>
        <input id="username" formControlName="username" class="form-control" required />
      </div>
      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input id="password" type="password" formControlName="password" class="form-control" required />
      </div>
      <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
    </form>
  </div>

  <div *ngIf="isLoggedIn">
    <form [formGroup]="agregarPrestamo" (ngSubmit)="agregaPrestamo()">
      <div class="form-group">
        <label for="dniCliente">DNI Cliente:</label>
        <input id="dniCliente" formControlName="dniCliente" class="form-control" />
      </div>
      <div class="form-group">
        <label for="nombreCliente">Nombre Cliente:</label>
        <input id="nombreCliente" formControlName="nombreCliente" class="form-control" />
      </div>
      <div class="form-group">
        <label for="apellidoCliente">Apellido Cliente:</label>
        <input id="apellidoCliente" formControlName="apellidoCliente" class="form-control" />
      </div>
      <div class="form-group">
        <label for="direccionCliente">Dirección Cliente:</label>
        <input id="direccionCliente" formControlName="direccionCliente" class="form-control" />
      </div>
      <div class="form-group">
        <label for="telefonoCliente">Teléfono Cliente:</label>
        <input id="telefonoCliente" formControlName="telefonoCliente" class="form-control" />
      </div>
      <div class="form-group">
        <label for="emailCliente">Email Cliente:</label>
        <input id="emailCliente" formControlName="emailCliente" class="form-control" />
      </div>
      <div class="form-group">
        <label for="montoPrestamo">Monto Préstamo:</label>
        <input id="montoPrestamo" formControlName="montoPrestamo" type="number" class="form-control" />
      </div>
      <div class="form-group">
        <label for="interesAplicado">Interés Aplicado (%):</label>
        <input id="interesAplicado" formControlName="interesAplicado" type="number" class="form-control" />
      </div>
      <div class="form-group">
        <label for="plazoMeses">Plazo (Meses):</label>
        <input id="plazoMeses" formControlName="plazoMeses" type="number" class="form-control" />
      </div>
      <div class="form-group">
        <label for="cuotas">Cuotas:</label>
        <input id="cuotas" formControlName="cuotas" type="number" class="form-control" />
      </div>
      <div class="form-group">
        <label for="montoTotal">Monto Total:</label>
        <input id="montoTotal" formControlName="montoTotal" type="number" class="form-control" />
      </div>
      <div class="form-group">
        <label for="deudaRestante">Deuda Restante:</label>
        <input id="deudaRestante" formControlName="deudaRestante" type="number" class="form-control" />
      </div>
      <div class="form-group">
        <label for="estado">Estado:</label>
        <input id="estado" formControlName="estado" class="form-control" />
      </div>
      <div class="form-group">
        <label for="fechaCreacion">Fecha de Creación:</label>
        <input id="fechaCreacion" formControlName="fechaCreacion" type="date" class="form-control" />
      </div>
      <button type="submit" class="btn btn-primary">Agregar Préstamo</button>
    </form>

    <h2>Lista de Préstamos</h2>
    <table class="table">
      <thead>
        <tr>
          <th>DNI Cliente</th>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>Monto</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let prestamo of listaPrestamos">
          <td>{{ prestamo.dniCliente }}</td>
          <td>{{ prestamo.nombreCliente }}</td>
          <td>{{ prestamo.apellidoCliente }}</td>
          <td>{{ prestamo.montoPrestamo }}</td>
          <td>
            <button class="btn btn-danger" (click)="eliminarPrestamo(prestamo)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
